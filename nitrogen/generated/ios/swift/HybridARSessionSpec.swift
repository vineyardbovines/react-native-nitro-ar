///
/// HybridARSessionSpec.swift
/// This file was generated by nitrogen. DO NOT MODIFY THIS FILE.
/// https://github.com/mrousavy/nitro
/// Copyright Â© Marc Rousavy @ Margelo
///

import NitroModules

/// See ``HybridARSessionSpec``
public protocol HybridARSessionSpec_protocol: HybridObject {
  // Properties
  var trackingState: TrackingState { get }
  var trackingStateReason: TrackingStateReason { get }
  var worldMappingStatus: WorldMappingStatus { get }
  var isRunning: Bool { get }
  var currentFrame: (any HybridARFrameSpec)? { get }
  var anchors: [(any HybridARAnchorSpec)] { get }
  var planeAnchors: [(any HybridARPlaneAnchorSpec)] { get }

  // Methods
  func start(config: ARSessionConfiguration?) throws -> Void
  func pause() throws -> Void
  func reset() throws -> Void
  func getCameraPose() throws -> CameraPose
  func raycast(x: Double, y: Double) throws -> (any HybridARRaycastResultSpec)?
  func raycastWithQuery(query: RaycastQuery) throws -> [(any HybridARRaycastResultSpec)]
  func createAnchor(hit: (any HybridARRaycastResultSpec)) throws -> (any HybridARAnchorSpec)
  func createAnchorAtPosition(position: [Double], rotation: [Double]?) throws -> (any HybridARAnchorSpec)
  func removeAnchor(anchor: (any HybridARAnchorSpec)) throws -> Void
  func createMeasurement(start: (any HybridARAnchorSpec), end: (any HybridARAnchorSpec)) throws -> (any HybridARMeasurementSpec)
  func getCurrentWorldMap() throws -> Promise<(any HybridARWorldMapSpec)>
  func onFrameUpdate(callback: @escaping (_ frame: (any HybridARFrameSpec)) -> Void) throws -> () -> Void
  func onTrackingStateChanged(callback: @escaping (_ state: TrackingState, _ reason: TrackingStateReason) -> Void) throws -> () -> Void
  func onAnchorsUpdated(callback: @escaping (_ added: [(any HybridARAnchorSpec)], _ updated: [(any HybridARAnchorSpec)], _ removed: [String]) -> Void) throws -> () -> Void
  func onPlanesUpdated(callback: @escaping (_ added: [(any HybridARPlaneAnchorSpec)], _ updated: [(any HybridARPlaneAnchorSpec)], _ removed: [String]) -> Void) throws -> () -> Void
}

public extension HybridARSessionSpec_protocol {
  /// Default implementation of ``HybridObject.toString``
  func toString() -> String {
    return "[HybridObject ARSession]"
  }
}

/// See ``HybridARSessionSpec``
open class HybridARSessionSpec_base {
  private weak var cxxWrapper: HybridARSessionSpec_cxx? = nil
  public init() { }
  public func getCxxWrapper() -> HybridARSessionSpec_cxx {
  #if DEBUG
    guard self is any HybridARSessionSpec else {
      fatalError("`self` is not a `HybridARSessionSpec`! Did you accidentally inherit from `HybridARSessionSpec_base` instead of `HybridARSessionSpec`?")
    }
  #endif
    if let cxxWrapper = self.cxxWrapper {
      return cxxWrapper
    } else {
      let cxxWrapper = HybridARSessionSpec_cxx(self as! any HybridARSessionSpec)
      self.cxxWrapper = cxxWrapper
      return cxxWrapper
    }
  }
}

/**
 * A Swift base-protocol representing the ARSession HybridObject.
 * Implement this protocol to create Swift-based instances of ARSession.
 * ```swift
 * class HybridARSession : HybridARSessionSpec {
 *   // ...
 * }
 * ```
 */
public typealias HybridARSessionSpec = HybridARSessionSpec_protocol & HybridARSessionSpec_base
